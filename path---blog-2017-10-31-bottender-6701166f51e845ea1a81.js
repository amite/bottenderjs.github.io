webpackJsonp([0x5baebd627ff0],{633:function(n,s){n.exports={data:{markdownRemark:{html:'<p>We\'re very proud to open-source <a href="https://github.com/yoctol/bottender">Bottender</a>, a JavaScript framework for cross-platform bots, built on top of <a href="https://github.com/Yoctol/messaging-apis">Messaging-APIs</a> and lots of great tools from the JavaScript community!</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/bottender-docs/static/1eced427f988a86f12527fe9346fa809-77ab7.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 600px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAABaUlEQVQ4y92TvYuCcBjH+7MCR2mUmvovdKpFh1rd2gJJGrRaXFQao8GsG7KphqCEki56t7Is6OW+ZHfBcXDEcUvP8OPh5/fzvHzV0PUPEXox2HVdgiDC4fDxeHwaHgwGjUZDEIR2u/007DjOYrHAudlsnoZ9359Op57n/bIzFJqm7XY7Xdf7/T7yt1tUq1UMb1nWcDhUVXW1WimKYtt2uVx+wAAikUipVKJpejQa8TxfqVRM0+Q4brlckiRZLBZZlhVFkWEYwzDi8fh2u33A0Wg0m80mEonZbJbJZGq1WrPZTKVSEMViMcDpdDqXyyWTyXq9TlHUfD6/w7BElmVMJUnS5XLpdDqTyQSPMV6v12u1WqheKBRgQT6f73a72Cjw4m7Yfr9/vwVeLxyGDrVwYmzMglpwfjweQ3A+n7+7jSt8DBgBakiDxP0M8EFyOp1+gL/6g1mv11gVUiTojwQn2h4Ohxf/q/4d/gBSRl7jKn6QHQAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"\n        alt="bottender logo"\n        title=""\n        src="/bottender-docs/static/1eced427f988a86f12527fe9346fa809-77ab7.png"\n        srcset="/bottender-docs/static/1eced427f988a86f12527fe9346fa809-09ecb.png 180w,\n/bottender-docs/static/1eced427f988a86f12527fe9346fa809-b0756.png 360w,\n/bottender-docs/static/1eced427f988a86f12527fe9346fa809-77ab7.png 600w"\n        sizes="(max-width: 600px) 100vw, 600px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>To start using it, install <code>bottender</code> globally from the npm registry:</p>\n<div class="gatsby-highlight">\n      <pre class="language-sh"><code>npm install -g bottender</code></pre>\n      </div>\n<p>And enter interactive bot creation process with: </p>\n<div class="gatsby-highlight">\n      <pre class="language-sh"><code>bottender init</code></pre>\n      </div>\n<p>After answering a few questions, a new bot will be created for you.</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/bottender-docs/static/c9e12a2885de9b47f0aa05c8508766f0-04653.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 720px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 49.00398406374502%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABRklEQVQoz63QyU7CUBTG8bJwQRyWmhhjGBRKgVYtg6UIjaCVAC0tUy0YakVJKrowMcaNC9/C+HSmD/J5W6MudIO4+OXs/ufcS1EUFchxvBJn+UGMzswlur0TJj0qKGbFN7ZaQloqI1U8QF6oIs2JoJncTCJRduIFl5iM4I4mDmS1A804Q0s3obWHUFoGWpqJ4xMNYq0HSR1AlDvY2/cWFvylTFrw0ck8QpHk1A8mSPDh8Qm9/giXk1vY42vYFw4M04Y5HGN8deNPZ3qHvmFBtxx0iYwoI1dRIZAlDFv4DqbyJfd8eo+mYUMll5WlOuRam9BROVJQb/bIVCEdNlCpKuTy01+f/BWMM1m33bfA8WX/9Fn/7kcwRvOu3hmiQS7hdov/E/xr5FM8kUUo/BEMrm9sPROvc3pZXdssecEAsUiszGmZWHgHsw39+maRmVkAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"\n        alt="bottender init screenshot"\n        title=""\n        src="/bottender-docs/static/c9e12a2885de9b47f0aa05c8508766f0-6386e.png"\n        srcset="/bottender-docs/static/c9e12a2885de9b47f0aa05c8508766f0-a3802.png 180w,\n/bottender-docs/static/c9e12a2885de9b47f0aa05c8508766f0-e9d23.png 360w,\n/bottender-docs/static/c9e12a2885de9b47f0aa05c8508766f0-6386e.png 720w,\n/bottender-docs/static/c9e12a2885de9b47f0aa05c8508766f0-04653.png 1004w"\n        sizes="(max-width: 720px) 100vw, 720px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<br />\n<h2 id="motivation"><a href="#motivation" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Motivation</h2>\n<p>JavaScript\'s event-based mechanism is good at developing dialogue system, but the callback-based development approach is a disaster for asynchronous state maintenance and error handling. However, the JavaScript ecosystem has been improved a lot. Thanks to Babel, Node.js and V8 engine, we have modern and async friendly way to handle all the stuff.</p>\n<p>In recent years, many messaging platforms have emerged. Each platform has its own characteristics and features, but some of them are not friendly for developers. Therefore, we decide to create a consistent development experience in a transparent, extensible and fully controlled way.</p>\n<p>Here comes Bottender.</p>\n<br />\n<h2 id="only-javascript-handler-is-a-function"><a href="#only-javascript-handler-is-a-function" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Only JavaScript. Handler is a function</h2>\n<p>The advantages of this approach over similar models is that you can do whatever you want in your function. And because of that, your entire system remains highly composable and testable. </p>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code>bot<span class="token punctuation">.</span><span class="token function">onEvent</span><span class="token punctuation">(</span>context <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span>context<span class="token punctuation">.</span>event<span class="token punctuation">.</span>isText<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'Cool. You sent a text to me.\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span> \n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n      </div>\n<p>Furthermore, this handler function are fully testable without pain. Your test suite can simply import and test it.</p>\n<br />\n<h2 id="control-asynchronous-flow-using-async-functions"><a href="#control-asynchronous-flow-using-async-functions" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Control Asynchronous Flow using Async Functions</h2>\n<p>When it comes to database queries or asynchronous API calls, modern async/await syntax give you great advantage to control your logic. Bottender\'s first class async/await support let you simply pass in any <code>async</code> handler. Farewell to callback hells.</p>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code>bot<span class="token punctuation">.</span><span class="token function">onEvent</span><span class="token punctuation">(</span><span class="token keyword">async</span> context <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span>context<span class="token punctuation">.</span>event<span class="token punctuation">.</span>text <span class="token operator">===</span> <span class="token string">\'you shoull call api\'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">callSomeAsyncAPI</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span>event<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">await</span> context<span class="token punctuation">.</span><span class="token function">sendText</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span> \n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n      </div>\n<br />\n<h2 id="keep-conversation-state-at-session-store"><a href="#keep-conversation-state-at-session-store" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Keep Conversation State at Session Store</h2>\n<p>Conversation state can be initially defined with <code>bot.setInitialState()</code>, and can be modified during conversation using <code>context.setState()</code>. The state control is handled by underlying session store.</p>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code>bot<span class="token punctuation">.</span><span class="token function">setInitialState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  todos<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\nbot<span class="token punctuation">.</span><span class="token function">onEvent</span><span class="token punctuation">(</span>context <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span>context<span class="token punctuation">.</span>event<span class="token punctuation">.</span>isText<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    context<span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n      todos<span class="token punctuation">:</span> context<span class="token punctuation">.</span>state<span class="token punctuation">.</span>todos<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>\n        context<span class="token punctuation">.</span>event<span class="token punctuation">.</span>text\n      <span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n      </div>\n<p>You can use <code>memory</code> session store in development, and replace it with persistence session stores on production.</p>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> FileSessionStore <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'bottender\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> bot <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MessengerBot</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  sessionStore<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">FileSessionStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n      </div>\n<p>We provide not only <code>file</code> session store but also <code>redis</code> and <code>mongo</code> session stores. You can even submit your session store by following the interface implementation.</p>\n<br />\n<h2 id="simple-deployment"><a href="#simple-deployment" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Simple deployment</h2>\n<p>To put your bot logic online, you need a HTTP server. Bottender provides simple <code>createServer()</code> function that do the trick for you, the server created can be extended as well.</p>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code><span class="token keyword">const</span> createServer <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'bottender/express\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> server <span class="token operator">=</span> <span class="token function">createServer</span><span class="token punctuation">(</span>bot<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\nserver<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'bot server is running on 3000 port\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n      </div>\n<p>Bottender supports four Node.js server frameworks, simply require corresponding <code>createServer()</code> from submodules.</p>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code><span class="token comment" spellcheck="true">// import from express</span>\n<span class="token keyword">const</span> createServer <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'bottender/express\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment" spellcheck="true">// import from koa</span>\n<span class="token keyword">const</span> createServer <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'bottender/koa\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment" spellcheck="true">// import from micro</span>\n<span class="token keyword">const</span> createServer <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'bottender/micro\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment" spellcheck="true">// import from restify</span>\n<span class="token keyword">const</span> createServer <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'bottender/restify\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n      </div>\n<p>Since Bottender works as a Node.js HTTP server, you can easily deploy your bots to PaaS like <a href="https://www.heroku.com/">Heroku</a> or <a href="https://zeit.co/now">Now</a>. For more details, check out the <a href="./docs/Guides-Deployment">Deployment</a> guide.</p>',frontmatter:{title:"Bottender",date:"October 31, 2017",author:["chentsulin","tw0517tw"]},fields:{path:"blog/2017-10-31-bottender.md"}},site:{siteMetadata:{title:"Bottender"}}},pathContext:{slug:"/blog/2017/10/31/bottender/",_PARENT:"SOURCE"}}}});
//# sourceMappingURL=path---blog-2017-10-31-bottender-6701166f51e845ea1a81.js.map